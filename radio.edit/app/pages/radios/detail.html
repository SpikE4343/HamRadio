<div style="width:100%" layout="row">
  <!-- <md-sidenav class="site-sidenav md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="$mdMedia('gt-sm')">

        <md-toolbar layout="row" class="md-whiteframe-z1">
              <h1>d.name</h1>
        </md-toolbar>


        <div>{{d.error}}</div>
        <md-list ng-show="d.radios.length > 0" >
            <md-list-item ng-repeat="radio in d.radios">
                <md-button ng-click="d.selectRadio(radio, $index)" ng-class="{'selected' : radio === d.radio }">
                    {{radio.name}}
                </md-button>
            </md-list-item>
        </md-list>
    </md-sidenav> -->
  <md-progress-linear
    ng-show="d.radio == null && d.error != null"
    md-mode="indeterminate"></md-progress-linear>

  <div ng-show="d.radio != null"
       flex
       layout="column"
       tabIndex="-1"
       role="main"
       class="card-holder">
    <md-card>
        <md-content flex id="content">
          <div layout="row" flex style="width:50%">
            <br />
            <md-content layout-padding class="autoScroll">
              <md-input-container ng-repeat="(name, setting) in d.radio.data.settings">
                <label>{{name}}</label>
                <input ng-model="setting" type="text">
              </md-input-container>
            </md-content>
          </div>
        </md-content>

    </md-card>

    <md-card>
      <md-toolbar>
        <div class="md-toolbar-tools">
          <h2><span>Bands</span></h2>
          <span flex></span>
          <md-button class="md-icon-button"
                     ng-click="d.tableView = true">
            <md-icon>view_list</md-icon>
          </md-button>
          <md-button ng-selected="!d.tableView" class="md-icon-button md-raised"
                     ng-click="d.tableView = false">
            <md-icon>view_module</md-icon>
          </md-button>
        </div>
      </md-toolbar>
      <md-content layout-padding flex id="content">
        <md-tabs md-dynamic-height md-border-bottom>
          <md-tab label="{{$index}}" ng-repeat="band in d.radio.data.bands">
            <md-table-container ng-if="d.tableView">
              <table md-table
                     md-row-select="true"
                     multiple="true"
                     ng-model="d.selected"
                     class="md-primary"
                     md-progress="promise">
                <thead md-head
                       md-order="query.order"
                       md-trigger="onorderchange">
                  <tr md-row
                      md-auto-select="true">
                    <th md-column
                        md-numeric
                        order-by="{{fieldName}}"
                        ng-repeat="(fieldName, field) in d.radio.map.items.channel.fields">
                      <span>{{field.label}} {{field.units}}</span>
                    </th>
                  </tr>
                </thead>
                <tbody md-body>
                  <tr md-row
                      md-auto-select
                      md-select="channel"
                      ng-repeat="channel in band.channels | limitTo: d.channelLimit: (band.page - 1) * d.channelLimit">
                    <td md-cell
                        ng-repeat="(fieldName, field) in d.radio.map.items.channel.fields">
                      {{d.radio.channelFieldValue( band, channel, fieldName)}}
                    </td>
                  </tr>
                </tbody>
              </table>
            </md-table-container>
            <md-table-pagination ng-if="d.tableView"
              md-limit="d.channelLimit"
              md-limit-options="[10, 25, 50]"
              md-page="band.page"
              md-total="{{band.channels.length}}"
              md-page-select>
            </md-table-pagination>
            <md-list ng-if="!d.tableView">
              <md-list-item class="md-3-line"
                ng-repeat="channel in band.channels | limitTo: d.channelLimit: (band.page - 1) * d.channelLimit">
                <div class="md-list-item-text">
                  <p>{{$index}}</p>
                  <h3>{{d.radio.channelFieldValue( band, channel, "name")}}</h3>
                  <p>{{d.radio.channelFieldValue( band, channel, "frequency")}}</p>
                </div>
              </md-list-item>
            </md-list>
          </md-tab>
        </md-tabs>
      </md-content>
    </md-card>
  </div>
</div>
